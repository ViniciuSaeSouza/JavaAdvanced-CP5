<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
  lang="pt-br"
  th:replace="~{layout :: layout(~{::title}, ~{::content})}"
>
  <head>
    <title>Home - ConsertaJ치</title>
  </head>
  <body>
    <div th:fragment="content">
      <!-- Hero Section -->
      <div
        class="hero-section p-4 mb-5 text-white position-relative overflow-hidden"
        style="
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          border-radius: 20px;
        "
      >
        <div
          class="hero-background position-absolute top-0 start-0 w-100 h-100 opacity-10"
        >
          <div class="floating-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
          </div>
        </div>
        <div class="container-fluid py-4 position-relative z-1">
          <div class="row align-items-center">
            <div class="col-lg-8">
              <h1 class="display-4 fw-bold mb-3 animate-title">
                游댢 Bem-vindo ao <span class="text-warning">ConsertaJ치</span>
              </h1>

              <!-- Mensagem personalizada baseada na autentica칞칚o -->
              <div sec:authorize="isAuthenticated()">
                <p class="fs-5 mb-4 opacity-90">
                  Ol치, <strong sec:authentication="name"></strong>!
                  Gerencie suas ferramentas e estoques com facilidade.
                </p>
              </div>
              <div sec:authorize="!isAuthenticated()">
                <p class="fs-5 mb-4 opacity-90">
                  Sua solu칞칚o completa para gest칚o inteligente de ferramentas,
                  fornecedores e estoques. Controle total na palma da sua m칚o!
                </p>
              </div>

              <div class="d-flex flex-wrap gap-2 mb-3">
                <span class="badge bg-light text-dark px-3 py-2 fs-6">
                  <i class="bi bi-check-circle-fill text-success me-2"></i
                  >Gest칚o Inteligente
                </span>
                <span class="badge bg-light text-dark px-3 py-2 fs-6">
                  <i class="bi bi-check-circle-fill text-success me-2"></i
                  >Controle Total
                </span>
                <span class="badge bg-light text-dark px-3 py-2 fs-6"
                  sec:authorize="isAuthenticated()"
                >
                  <i class="bi bi-check-circle-fill text-success me-2"></i
                  >Sistema Seguro
                </span>
              </div>

              <!-- Bot칫es de a칞칚o baseados na autentica칞칚o -->
              <div class="d-flex flex-wrap gap-2">
                <div sec:authorize="!isAuthenticated()">
                  <a th:href="@{/login}" class="btn btn-warning btn-lg me-2">
                    <i class="bi bi-box-arrow-in-right me-2"></i>Fazer Login
                  </a>
                  <a th:href="@{/signup}" class="btn btn-outline-light btn-lg">
                    <i class="bi bi-person-plus me-2"></i>Criar Conta
                  </a>
                </div>
                <div sec:authorize="isAuthenticated()">
                  <a th:href="@{/ferramentas}" class="btn btn-warning btn-lg me-2">
                    <i class="bi bi-hammer me-2"></i>Ver Ferramentas
                  </a>
                  <a th:href="@{/estoques}" class="btn btn-outline-light btn-lg">
                    <i class="bi bi-boxes me-2"></i>Ver Estoques
                  </a>
                </div>
              </div>
            </div>
            <div class="col-lg-4 text-center">
              <div class="hero-icon-container">
                <i class="bi bi-tools display-1 text-warning animate-icon"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Estat칤sticas -->
      <div class="row g-4 mb-5">
        <div class="col-md-4">
          <div class="card card-stat h-100 border-0 shadow-lg">
            <div class="card-body text-center p-4">
              <div class="stat-icon mb-3">
                <i class="bi bi-building display-4 text-primary"></i>
              </div>
              <h3 class="text-primary fw-bold" th:text="${totalFornecedores}">
                0
              </h3>
              <p class="text-muted mb-0">Fornecedores Cadastrados</p>
              <a
                th:href="@{/fornecedores}"
                class="btn btn-outline-primary btn-sm mt-2"
                sec:authorize="hasRole('ADMIN')"
              >
                <i class="bi bi-eye me-1"></i>Ver Todos
              </a>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card card-stat h-100 border-0 shadow-lg">
            <div class="card-body text-center p-4">
              <div class="stat-icon mb-3">
                <i class="bi bi-hammer display-4 text-success"></i>
              </div>
              <h3 class="text-success fw-bold" th:text="${totalFerramentas}">
                0
              </h3>
              <p class="text-muted mb-0">Ferramentas Dispon칤veis</p>
              <a
                th:href="@{/ferramentas}"
                class="btn btn-outline-success btn-sm mt-2"
                sec:authorize="hasAnyRole('USER', 'ADMIN')"
              >
                <i class="bi bi-eye me-1"></i>Ver Todas
              </a>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card card-stat h-100 border-0 shadow-lg">
            <div class="card-body text-center p-4">
              <div class="stat-icon mb-3">
                <i class="bi bi-boxes display-4 text-warning"></i>
              </div>
              <h3 class="text-warning fw-bold" th:text="${totalEstoques}">
                0
              </h3>
              <p class="text-muted mb-0">Itens em Estoque</p>
              <a
                th:href="@{/estoques}"
                class="btn btn-outline-warning btn-sm mt-2"
                sec:authorize="hasAnyRole('USER', 'ADMIN')"
              >
                <i class="bi bi-eye me-1"></i>Ver Estoques
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Recursos do Sistema -->
      <div class="row g-4">
        <div class="col-md-6">
          <div class="card h-100 border-0 shadow-lg">
            <div class="card-header text-white" style="background: var(--success-gradient);">
              <h5 class="mb-0">
                <i class="bi bi-gear-fill me-2"></i>Funcionalidades
              </h5>
            </div>
            <div class="card-body">
              <ul class="list-unstyled">
                <li class="mb-2">
                  <i class="bi bi-check-circle text-success me-2"></i>
                  Gest칚o completa de ferramentas
                </li>
                <li class="mb-2">
                  <i class="bi bi-check-circle text-success me-2"></i>
                  Controle de estoque em tempo real
                </li>
                <li class="mb-2" sec:authorize="hasRole('ADMIN')">
                  <i class="bi bi-check-circle text-success me-2"></i>
                  Gerenciamento de fornecedores
                </li>
                <li class="mb-2" sec:authorize="hasRole('ADMIN')">
                  <i class="bi bi-check-circle text-success me-2"></i>
                  Administra칞칚o de usu치rios
                </li>
                <li class="mb-2">
                  <i class="bi bi-check-circle text-success me-2"></i>
                  Sistema de autentica칞칚o seguro
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card h-100 border-0 shadow-lg">
            <div class="card-header text-white" style="background: var(--info-gradient);">
              <h5 class="mb-0">
                <i class="bi bi-info-circle-fill me-2"></i>Acesso R치pido
              </h5>
            </div>
            <div class="card-body">
              <div sec:authorize="!isAuthenticated()">
                <p class="text-muted mb-3">Fa칞a login para acessar todas as funcionalidades do sistema.</p>
                <div class="d-grid gap-2">
                  <a th:href="@{/login}" class="btn btn-primary">
                    <i class="bi bi-box-arrow-in-right me-2"></i>Fazer Login
                  </a>
                  <a th:href="@{/signup}" class="btn btn-outline-primary">
                    <i class="bi bi-person-plus me-2"></i>Criar Conta
                  </a>
                </div>
              </div>

              <div sec:authorize="isAuthenticated()">
                <p class="text-muted mb-3">Acesse rapidamente as principais funcionalidades:</p>
                <div class="d-grid gap-2">
                  <a th:href="@{/ferramentas}" class="btn btn-outline-primary">
                    <i class="bi bi-hammer me-2"></i>Ferramentas
                  </a>
                  <a th:href="@{/estoques}" class="btn btn-outline-success">
                    <i class="bi bi-boxes me-2"></i>Estoques
                  </a>
                  <a th:href="@{/perfil}" class="btn btn-outline-info">
                    <i class="bi bi-person me-2"></i>Meu Perfil
                  </a>
                  <div sec:authorize="hasRole('ADMIN')">
                    <a th:href="@{/usuarios}" class="btn btn-outline-warning">
                      <i class="bi bi-people me-2"></i>Gerenciar Usu치rios
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
